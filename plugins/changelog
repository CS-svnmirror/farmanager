yjh 07.06.2008 22:39:33 +0300

1. В makefile_vc_... добавлена возможность переопределения имён/путей
   (но не расширений!) rc/def-файлов. Полезно для сборки субплагинов

yjh 07.06.2008 20:45:38 +0300

1. В makefile_vc_... добавлена возможность описывать дополнительные
   зависимости для компоновки (например, "внутренние" библиотеки плагина)
   LINK_DEP.

1. Проекты для VS2008.

drkns 06.06.2008 11:04:18 +0200

1. Проекты для VS2008.

t-rex 20.04.2008 00:37:13 +0200

1. В makefile_vc_def_inc, CPP_UNALIGN использовался для x64 вместо x86
   и соответственно MA x64 падал а в x86 могли быть проблемы. 

yjh 12.11.2007 05:14:28 +0300


1. makefile_all_vc теперь поддерживает параметр INSTALL. Если он определён,
   то он задаёт путь куда складываются все бинарники плагинов (каждый
   в свою поддиректорию, естественно). Разделение на 32/32W/64/64W так же
   поддерживается

2. В makefile_vc_defs можно задать DEFINSTALL - тогда при запуске 
   makefile_all_vc без параметра INSTALL будет использовано это значение
   Отдельное имя сделано для того, что бы определение в makefile_vc_defs
   не влияло на "отдельные" сборки плагинов

3. В makefile_all_vc временно добавлены ветки для WIDE и AMD64 - не все плугины
   пока портированы :)

4. В makefile_vc_def_inc добавлена опция отключающая C-выравнивание в 32х
   битах (убираем диагностику при сборке multiarc)


5. Вместо CPU=AMD64 теперь можно писать /DAMD64 (для make) или AMD64=1.
   Старый синтаксис так же допустим


t-rex 11.11.2007 22:53:20 +0200

1. Добавлен (в корневом каталоге плугинов) makefile_all_gcc - он позволяет
   собрать все "тривиальные" плугины одной командой.
   В список, на данный момент, не включены:
   emenu,ftp,newarc - нет стандартного makefile_gcc

t-rex 11.11.2007 22:03:49 +0200

1. Для GCC добавил настройки для C (gcc), оно надо в MA для libpcre.

yjh 11.11.2007 21:34:27 +0300

1. Убрана принудительная компоновка с libcmt в 32хбитах. Там где она
   нужна следует устанавливать NEEDDEFLIB.

2. Корректная обработка NEEDDEFLIB при компоновке ulink'ом


yjh 11.11.2007 17:26:05 +0300

1. Ошибка при использовании стандартного borland make (include)

2. Добавлен файл makefile_vc_getmode для упрощения обработки subplugins

3. multiarc включен в список makefile_all_vc

4. Добавлена поддержка сборки библиотеки (CRT) при использовании make

5. При работе с makefile_all_vc сначала собирается CRT а потом всё остальное


yjh 11.11.2007 15:49:14 +0300

1. makefile_vc (и его include's) теперь могут обрабатываться как nmake (ms),
   так и make от borland

2. Если в каталоге plugins будет находиться makefile_vc_defs (его присутсвие
   НЕ обязательно), то он автоматически покдлючается и позволяет задавать
   "стандартные" режимы и пути. Это позволяет (помимо прочего) не переключать
   environment при сборке 32/64битовых версий.
   Этот файл НЕ включается в репозиторий (он у каждого свой), а пример такого
   файла (используемый мной) ниже

3. Добавлен (в корневом каталоге плугинов) makefile_vc_all - он позволяет
   собрать все "тривиальные" плугины одной командой.
   В список, на данный момент, не включены:
     ftp,helloworld,newarc  - нет стандартного makefile_vc
     multiarc - не общего makefile_vc собирающего и библиотеки с "подплугинами"

4. Добавлен changelog :)

5. Пример файла makefile_vc_defs
---cut---
!ifndef NO_ULINK
ULINK=1
!endif

####################################################################
INCLUDE=""
LIB=""

_ULINK_PATH_=E:\TOOLSES\  # don't remove comment char

ENV_INC_OPT=/IJ:\_MS\SDK\include /IE:\VC8\VC\INCLUDE

!if "$(CPU)" == "AMD64"
!ifndef ULINK
ENV_LIB_OPT=/LIBPATH:J:\_MS\SDK\lib\x64 /LIBPATH:E:\VC8\VC\LIB\amd64
!else
ENV_LIB_OPT=/LJ:\_MS\SDK\lib\x64;E:\VC8\VC\LIB\amd64
!endif
_BIN_PATH_=E:\VC8\VC\bin\x86_amd64\ # don't remove comment char
!else
!ifndef ULINK
ENV_LIB_OPT=/LIBPATH:J:\_MS\SDK\lib /LIBPATH:E:\VC8\VC\LIB
!else
ENV_LIB_OPT=/LJ:\_MS\SDK\lib;E:\VC8\VC\LIB
!endif
_BIN_PATH_=E:\VC8\VC\bin\  # don't remove comment char
!endif

######################################################################
---end---
