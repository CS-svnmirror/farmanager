Команда dirfile
~~~~~~~~~~~~~~~
   У плагина есть "недокументированная" возможность: в режиме когда плагин
   подсоединен к любому фтп можно, стоя на панели плагина, выполнить команду:
     dirfile [<filename>]

   Если имя файла указано, то этот файл будет загружен плагином и
   будет интерпретироваться как листинг, полученный от сервера для
   этого каталога.
   (Понятно, что ничего не будет работать если только не совпадет имя
   файла с тем, что реально есть на сервере).
   Эту возможность можно использовать для того, чтобы проверить разбор
   листингов различных форматов или убедиться, перед отсылкой репорта
   о баге разбора, что файл, который собираетесь отсылать действительно
   не разбирается плагином.

   Если имя файла не указано, то плагин сбрасывает прочитанный файл и
   возвращается в режим показа реального содержимого каталога.

Ошибки разбора каталога
~~~~~~~~~~~~~~~~~~~~~~~

Я переделал парсер, соответственно меня интересует его
работоспособность т.к. пока я его написал с нуля и протестировать могу
только с тем, что есть у меня, а не на всем великом разнообразии
изысков которые демонстрируют сервера.

  ¦ ->               3259      A          04-07-00   11:23  24250C2E.PKT   ¦
  ¦------------------------------------------------------------------------¦
  ¦ 21:23:37 "Запрос имени папки"                                          ¦
  ¦ Error listing parsing. Please report to developer.                     ¦
  ¦------------------------------------------------------------------------¦
  ¦                               Продолжить                               ¦
  L========================================================================-

Я сделал показ ошибок, если парсер не смог найти или разобрать
полученный тест.
Ошибки могут быть следующих типов:
  1. "Error listing parsing"
  2. "Can not find listing parser"

В обоих случаях, если вы их увидели, они говорят только о том, что
плагин не смог разобрать строку, которая записана последней в окне
команд.
Ничего страшного при показе такой ошибки не происходит.
После того как вы закрываете окно с сообщением соединение не теряется
и вы можете поменять тип сервера вручную.

Это может произойти в следующих случаях:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  1. Неверно определился тип сервера (в случае если сервер не
     поддерживает команду SYST и/или "авто-определятор" ошибся;

  2. Явно выбран тип сервера не соответствующий действительности (к
     примеру юниксовый для досовского листинга);

  3. Листинга, который генерируется сервером, не понимает ни один из
     существующих парсеров;

Шаги по исправлению ситуации:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  1. Убедиться что плагин не понимает полученный листинг
      а) В меню утилит (Shift+F1) выбрать пункт "Change server type..." и
         в полученном меню выбрать "Autodetect".
      б) В случае если автоматическое определение не сработало, то
         попытаться подобрать тип сервера так, чтобы он распознавал файлы;

  2. Если Вы не смогли заставить плагин разбирать листинг, или он
     разбирается неверно (не показываются даты, атрибуты, и.т.д. или
     что-то другое), я буду благодарен, если Вы вышлете мне следующую
     информацию:
       а) в меню утилит (Shift+F1) выбрать пункт "View directory contents"

       б) в заголовке окна будет указано имя файла, который плагин
          использует для показа содержимого.
         Например так:
           ...ts:  FTP:far:far@194.226.246.33/  {E:\TMP\FTP00000.3M0\FTPDir.txt}
         Мне нужен именно этот файл т.к. он записывается плагином точно
         так, как был получен с сервера.
         Если же Вы вырежете кусок лога, то вполне может потеряться та
         информация из-за которой произошла ошибка, т.к. лог - текстовый
         файл и, при вырезании, нетекстовая информация может пропасть или
         быть преобразованной редактором.

       в) Не закрывая просмотра листинга скопировать этот файл во
          временную папку;

       г) Закрыть просмотр содержимого листинга и стоя на панели плагина
          вызвать "Info panel" (нажать Ctrl-L).
          В нижней части противоположной панели будет указан тип сервера,
          если сервер поддерживает команду SYST.
          К примеру так:
          ¦--------------------------------------- FTP client ----------------------------------------¦
          ¦ Host name                                                          far:far@194.226.246.33 ¦
          ¦ Host info                                                                                 ¦
          ¦ Host type     UNIX Type: L8 Server: "WarFTPd 1.81.01" OS: "WIN32 (NT 4.0 1381 x86 1-CPU)" ¦
          ¦--------------------------------------- FTP title -----------------------------------------¦
          ¦                                                              -Jgaa's Fan Club FTP service ¦
          ¦ Resuming                                                                        Supported ¦
          L===========================================================================================-
          Мне нужна информация из поля "Host type".
          Если этой информации нет или она не влазит в панель, то
          придется найти ее в лог. файле в строе ответа сервера на
          команду SYST.
          Для этого откройте лог-файл (в меню утилит выбрать пункт "View
          log file") и найдите строку "->SYST" (без кавычек).
          Следующий после нее ответ сервера (с символами "<-" перед
          текстом и будет той строкой, что мне нужна).
          К примеру, это выглядит так для сервера "WarFTP":
            <-215 UNIX Type: L8 Server: "WarFTPd 1.81.01" OS: "WIN32 (NT 4.0 1381 x86 1-CPU)"
          Если сервер поддерживает команду, то ее номер будет более 200,
          если нет, или имеет какие-то особенности, то более 300.
          Мне нужен ответ сервера с любым номером.

       д) Самый сложный шаг - получение списка файлов как они "должны
          выглядеть".
          - Наиболее простой метод - загрузить какой-либо бровзер, который
          показывает максимум информации о файлах и зайти в этот же
          каталог.
            К примеру, в бровзере "Опера" листинг каталога будет
            выглядеть так:
              To Music uploaders.txt      Text Document     1 KB 15.11.2002 14:03:00
              To Soft Uploaders.txt       Text Document     1 KB 15.11.2002 13:59:00
              Visit this site at WWW.url  Internet Shortcut 1 KB 02.11.2002 0:53:00
            Это минимально-необходимая информация.

          - Если у вас есть способ получить более детальную информацию (к
            примеру сделать dir на этот же каталог в ДОСе или еще
            каким-то образом получить больше информации - это хорошо);

  3. Выслать мне файл листинга, полученный на шаге 2.в, строку
  идентификации сервера, полученную на шаге 2.г и описание файлов из
  шага 2.д;
